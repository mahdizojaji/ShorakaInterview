1. من پیشنهادم برای همچنین حالتی event-driven هست یعنی به محض اینکه رکوئست اومد توی rabbbitmq و به وسیله درست استفاده کردن از exchange ها به سرویس هایی که نیاز به این event دارن ارسال بشه. همینطور میشه از kafka هم توی این سناریو استفاده کرد که سرویس هایی که روی اون صف subscribe کردن اون event رو دریافت کنن.
2. لاگ های میدلور نباید صرفا لوکال باشن و حتما باید از استک هایی مثل EFK برای جمع اوری لاگ ها استفاده کرد.
3. حتما باید برای api ها rate limit پیاده کرد بر اساس ایپی کاربر هم سمت gateway مثل nginx برای اینکه لود رو بگیره و کمتر سمت اپلیکیشن بیاد و هم سمت اپلیکیشن برای قسمت هایی که میخوایم rate limit بر اساس auth و... داشته باشیم.
میتونیم برای اندپوینت های ساخت short url و همینطور گرفتن stats کش استفاده کنیم تا لود دیتابیس رو کمتر کنیم.
میتونیم برای اندپوینت stats به صورت دوره ای تعداد views رو محسابه کنیم و روی مدل short-url نگهداری کنیم برای کوئری سبک تر و کمتر ولی با حفظ eventual consistency.
برای دیتابیس رپلیکا داشته باشیم که اگر نود مستر به مشکل خورد سریع نود استندبای بتونه جایگزین بشه.
در نهایت میتونیم auto scale داشته باشیم که خودکار با لود تناسب ایجاد بشه و اپلیکیشن ما به مشکل نخوره.
